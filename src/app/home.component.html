<div class="ak-page">
  <footer class="ak-home__footer" *ngIf="availableVersion"><span class="ak-info">&#8505;</span> New version available.
    <button (click)="reload()">Update</button>
  </footer>
  <header class="ak-page__header">
    <ak-home-header></ak-home-header>
  </header>
  <section class="ak-page__content">
    <ak-form></ak-form>
    <ak-appkeeps-card [appKeeps]="appKeeps$ | async"
                      [total]="todayTotal$ | async"
                      when="today">
    </ak-appkeeps-card>
    <ng-container *ngIf="thisMonthTotal$ | async; let thisMonth">
      <ak-month-card [incomeCategories]="thisMonth.incomeCategories" [appKeepCategories]="thisMonth.appKeepCategories"
                     month="this month" [explorable]="true"></ak-month-card>
    </ng-container>
    <ak-recap-card [recaps]="thisYearTotal$ | async" year="this year" [itemRootPath]="['/details', '2019']"
                   [explorable]="true"></ak-recap-card>
    <ak-recap-card [recaps]="overallTotal$ | async" year="overall" [itemRootPath]="['/details']"
                   [explorable]="true"></ak-recap-card>
  </section>
</div>
