<ng-container *ngIf="categories$ | async; let categories">
  <div class="ak-page">
    <ak-category-header class="ak-page__header" [hue]="monthlyAppkeep.category | akCategoryHue: categories">
      <header class="ak-heading">
        <small class="ak-heading__kicker">Monthly AppKeep</small>
        <h1 class="ak-heading__title">{{monthlyAppkeep.title}}</h1>
      </header>
    </ak-category-header>
    <div class="ak-edit  ak-page__content">
      <form class="ak-form" ngForm>
        <fieldset class="ak-form__inputs">
          <legend class="visually-hidden"></legend>
          <div class="ak-input">
            <label for="amount">Amount</label>
            <input name="amount" id="amount" type="number" min="0" step="0.01" placeholder="0000"
                   [(ngModel)]="monthlyAppkeep.amount">
          </div>
          <div class="ak-input">
            <label for="what">Title</label>
            <input id="what" name="title" placeholder="Description" autocomplete="off"
                   [(ngModel)]="monthlyAppkeep.title">
          </div>
          <div class="ak-input">
            <label for="category">Category</label>
            <input id="category" name="category" placeholder="Category" list="categorylist" autocomplete="off"
                   [(ngModel)]="monthlyAppkeep.category">
            <datalist id="categorylist">
              <option *ngFor="let category of categories" [value]="category.category"></option>
            </datalist>
          </div>
          <div class="ak-input">
            <label for="payer">Payer</label>
            <input id="payer" name="payer" placeholder="Payer" list="payerlist" autocomplete="off"
                   [(ngModel)]="monthlyAppkeep.user">
            <datalist id="payerlist" *ngIf="users$ | async; let users">
              <option *ngFor="let user of users" [value]="user"></option>
            </datalist>
          </div>
        </fieldset>
        <div class="ak-form__buttons">
          <button class="ak-button  ak-button--primary" (click)="primaryAction(categories)">{{edit ? 'Edit' : 'Add'}}</button>
          <button class="ak-button" (click)="criticalAction()">{{edit ? 'Delete' : 'Reset'}}</button>
        </div>
      </form>
    </div>
  </div>
</ng-container>
